<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HNN Textbook</title>
    <!-- <base href="/textbook/"> -->
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../content/assets/styles.css">
    <script src="../../templates/scripts.js" defer></script>
</head>
<body>
    <svg style="display: none;">
        <symbol id="popup-symbol" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="9" 
                fill="var(--fill-color, transparent)" 
                stroke="var(--stroke-color, currentColor)" 
                stroke-width="2" />
            <path d="M9 9L15 15M15 9L9 15" 
                stroke="var(--stroke-color, currentColor)" 
                stroke-width="2" 
                stroke-linecap="round" />
        </symbol>
    </svg>

	<div id="mySidebar" class="sidebar">
		<div class="sidebar-close">
		<svg class="popup-symbol" viewBox="0 0 24 24">
		<use href="#popup-symbol" />
		</svg>
		</div>
		<div class="navbar-header">
		<a>
			Human Neocortical Neurosolver
		</a>
		<br>
			<svg class="collapse-icon" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
				<path d="M9 9H4v1h5V9z"/>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M5 3l1-1h7l1 1v7l-1 1h-2v2l-1 1H3l-1-1V6l1-1h2V3zm1 2h4l1 1v4h2V3H6v2zm4 1H3v7h7V6z"/>
			</svg>
		</div>
		<a href="/textbook/content/preface.html">Preface</a>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				1. Getting Started
			</a>
			<div class="submenu">
				<a href="/textbook/content/01_getting_started/challenge.html">1.1 Introducing HNN</a>
				<a href="/textbook/content/01_getting_started/template_model.html">1.2 Template Model</a>
				<a href="/textbook/content/01_getting_started/installation.html">1.3 Installation</a>
			</div>
		</div>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				2. Model Assumptions
			</a>
			<div class="submenu">
				<a href="/textbook/content/03_model_assumptions/cortical_column_structure.html">2.1 Cortical Column Structure</a>
				<a href="/textbook/content/03_model_assumptions/primary_electric_currents.html">2.2 Primary Electrical Currents</a>
				<a href="/textbook/content/03_model_assumptions/neurons_morphology_and_physiology.html">2.3 Neurons: Morphology and Physiology</a>
				<a href="/textbook/content/03_model_assumptions/synaptic_connectivity.html">2.4 Synaptic Connectivity</a>
				<a href="/textbook/content/03_model_assumptions/evoked_and_rhythmic_driving_inputs.html">2.5 Evoked and Rhythmic Driving Inputs</a>
				<a href="/textbook/content/03_model_assumptions/tonic_and_noisy_driving_inputs.html">2.6 Tonic and Noisy Driving Inputs</a>
			</div>
		</div>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				3. Using the HNN GUI
			</a>
			<div class="submenu">
				<a href="/textbook/content/04_using_hnn_gui/gui_quickstart.html">3.1 GUI Quickstart</a>
			</div>
		</div>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				4. Simulating ERPs
			</a>
			<div class="submenu">
				<a href="/textbook/content/05_erps/erps_in_gui.html">4.1 GUI Tutorial of ERPs Simulation</a>
				<a href="/textbook/content/05_erps/hnn_core.html">4.2 API Tutorial of ERPs Simulation</a>
			</div>
		</div>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				5. Simulating Alpha/Beta Rhythms
			</a>
			<div class="submenu">
				<a href="/textbook/content/06_alpha_beta/gui.html">5.1 GUI Tutorial of Alpha/Beta Rhythms</a>
				<a href="/textbook/content/06_alpha_beta/api.html">5.2 API Tutorial of Alpha/Beta Rhythms</a>
			</div>
		</div>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				6. Simulating Gamma Rhythms
			</a>
			<div class="submenu">
				<a href="/textbook/content/07_gamma/gamma_in_gui.html">6.1 GUI Tutorial of Gamma Rhythms</a>
				<a href="/textbook/content/07_gamma/gamma_in_api.html">6.2 API Tutorial of Gamma Rhythms</a>
			</div>
		</div>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				7. Using the HNN API
			</a>
			<div class="submenu">
				<a href="/textbook/content/08_using_hnn_api/plot_firing_pattern.html">7.1 Plot Firing Pattern</a>
				<a href="/textbook/content/08_using_hnn_api/record_and_plot_extracellular_potentials.html">7.2 Record & Plot Extracellular Potentials</a>
				<a href="/textbook/content/08_using_hnn_api/modifying_local_connectivity.html">7.3 Modifying Local Connectivity</a>
				<a href="/textbook/content/08_using_hnn_api/animating_hnn_simulations.html">7.4 Animating HNN Simulations</a>
				<a href="/textbook/content/08_using_hnn_api/batch_simulation.html">7.5 Batch Simulation</a>
				<a href="/textbook/content/08_using_hnn_api/simulate_beta_modulated_erp.html">7.6 Simulate Beta-modulated ERP</a>
				<a href="/textbook/content/08_using_hnn_api/parallelism_joblib.html">7.7 Parallelism: Joblib</a>
				<a href="/textbook/content/08_using_hnn_api/parallelism_mpi.html">7.8 Parallelism: MPI</a>
				<a href="/textbook/content/08_using_hnn_api/optimize_simulated_evoked_response_parameters.html">7.9 Optimize simulated evoked response parameters</a>
				<a href="/textbook/content/08_using_hnn_api/optimize_simulated_rhythmic_response_parameters.html">7.10 Optimize simulated rhythmic response parameters</a>
			</div>
		</div>
		<div class="sidebar-list">
			<a id="sidebar-header" onclick="toggleSubmenu(event)">
		<span class="toggle-icon">+</span>
				8. From Data to Simulation
			</a>
			<div class="submenu">
				<a href="/textbook/content/09_data_to_simulation/from_meg_to_hnn.html">8.1 From MEG sensor-space data to HNN simulation</a>
			</div>
		</div>
	<div style='height: 30px;'></div>
	</div>


    <div class="topbar">
        
        <!-- Topbar menu -->
        <div class="menu-container">
            <div class="menu-icons">
                <button class="openbtn" onclick="toggleNav()">
                    ☰
                </button>
                <a href="https://hnn.brown.edu" class="home-link">
                    <div class="home-icon-container">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24" 
                            height="24"
                            viewBox="0 0 24 24" 
                            class="home-icon">
                            <path
                                d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"
                            />
                        </svg>
                    </div>
                </a>
                <button class="theme-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path>
                    </svg>
                </button>
                <div class="dropdown">
                    <button 
                        id="dropdownButton" 
                        class="dropdown-button">
                            <img
                                src="/textbook/content/assets/icons/fontsize.png"
                                alt="fontsize"
                            />
                    </button>
                    <div class="dropdown-content">
                        <button 
                            class="fontsize-btn" 
                            onclick="decreaseFontSize()">
                            <img
                                src="/textbook/content/assets/icons/fontminus.png"
                                alt="fontminus"
                            />
                        </button>
                        <button 
                            class="fontsize-btn" 
                            onclick="increaseFontSize()">
                            <img
                                src="/textbook/content/assets/icons/fontplus.png"
                                alt="fontplus"
                            />
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Topbar image -->
        <div class="topbar-logo-container">
            <img 
                id="topbar-logo"
                src="https://raw.githubusercontent.com/jonescompneurolab/jones-website/master/images/frontpage/logos/logo-hnn-medium.png"
            />
        </div>

        <!-- Right side of topbar -->
        <div class="socials-container">
            <div class="social-icons">
                <a 
                    href="https://github.com/jonescompneurolab/hnn-core" 
                    target="_blank" 
                    aria-label="GitHub">
                    <img 
                        src="/textbook/content/assets/icons/github.png"
                        alt="GitHub">
                </a>
                <a 
                    href="https://bsky.app/profile/hnnsolver.bsky.social" 
                    target="_blank"
                    aria-label="BlueSky">
                    <img 
                        src="/textbook/content/assets/icons/bluesky.png"
                        alt="BlueSky">
                </a>
                <a 
                    href="https://www.linkedin.com/company/human-neocortical-neurosolver/" 
                    target="_blank"
                    aria-label="LinkedIn">
                    <img 
                        src="/textbook/content/assets/icons/linkedin.png"
                        alt="LinkedIn">
                </a>
            </div>
        </div>
    </div>

    <div id="main">
    <div id="content-wrapper">
    <div id="content">

<!--
# Title: 1.3 Installation
# Updated: 2025-03-06
#
# Contributors:
    # Austin Soplata
    # Joyce Gao
    # Dylan Daniels
-->
<h1>1.3 Installation</h1>
<h2>Running HNN in the cloud</h2>
<h3>Google CoLab</h3>
<p>As an alternative to installing HNN locally, we provide Google CoLab
notebooks that allow you to run HNN out of your browser, with access to
your local filesystem.</p>
<ul>
<li><a
href="https://colab.research.google.com/drive/1yyjuEBimIu_f7_0Nf3YLwUiVOO7ZrKK3?usp=sharing">GUI
Colab Notebook</a></li>
<li><a
href="https://colab.research.google.com/drive/1FcNhHatsuxl-pACIFn7V6H5J4GPfZ1t8">API
Colab Notebook</a></li>
</ul>
<p>This is the quickest way to get up and running with HNN, though it
does require a Google account. If you do not have a Google account, you
can create one for free to run the notebooks. There is no charge
associated with using Google CoLab.</p>
<h3>Neuroscience Gateway Portal</h3>
<p>HNN is available for free, public use on the <a
href="https://www.nsgportal.org/">Neuroscience Gateway Portal (NSG)</a>.
You can find instructions for using HNN on NSG <a
href="https://users.sdsc.edu/~kenneth/hnn/index.html">at this page
here</a>.</p>
<h2>Using the Textbook</h2>
<p>To follow along with the examples in the textbook, you’ll need to
clone or download the <a
href="https://github.com/jonescompneurolab/hnn-data">hnn-data
repository</a>. The hnn-data repository includes both source-localized
data used in our lab’s published research as well as network
configurations that have been tuned for simulating different types of
signals. Note that this is <em>not</em> the same as installing HNN –
these are only files that you will use as you go through our textbook
examples.</p>
<p>You can directly <a
href="https://github.com/jonescompneurolab/hnn-data/archive/refs/heads/main.zip">download
the hnn-data folder by clicking here</a>. Alternatively, you can clone
the repository using the following command:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/jonescompneurolab/hnn-data.git</span></code></pre></div>
<h2>Local Installation</h2>
<p>We <strong>strongly</strong> recommend that you install HNN from our
<strong><code>conda</code> package</strong> instead of from
<code>pip</code>. This <code>conda</code> package is “batteries
included” and contains ALL features of HNN: the HNN API, the HNN GUI,
Optimization, Joblib Parallelism, and MPI Parallelism. This is
<em>significantly</em> easier to install than using
<code>pip</code>.</p>
<p>However, there are some cases where you should <strong>not</strong>
use the <code>conda</code> installation:</p>
<ul>
<li><strong>If you want to co-install HNN alongside MNE:</strong> In
this case, we strongly recommend that you install MNE <em>first</em> <a
href="https://mne.tools/stable/install/index.html">(MNE install guides
here)</a>. If you installed MNE using its <code>pip</code> or
<code>conda</code> methods, then afterwards, you should install HNN
using our <strong><code>pip</code> Package Installation</strong> method
below, but <em>in the same Python environment</em> that you installed
MNE into.</li>
<li><strong>If you are using your institution’s High-Performance
Computing (HPC) environment</strong> (also called a “computing cluster”
or supercomputer): The <code>conda</code> installation may work on your
HPC, but if you want to use your HPC’s custom MPI libraries, you should
try using our <strong><code>pip</code> Package Installation</strong>
below. Your HPC usually has documentation on how they want you to load
OpenMPI (which is not a Python package) and possibly <code>mpi4py</code>
(which is a Python package). You can always ask us for help at <a
href="https://github.com/jonescompneurolab/hnn-core/discussions">our
Github Discussions page</a>.</li>
<li><strong>If you are at Brown University and want to use HNN on the
OSCAR system:</strong> We have made custom instructions for you, which
<a href="https://github.com/jonescompneurolab/oscar-install">can be
found here at this other page</a>.</li>
<li><strong>If you want to use a “custom” version of HNN’s source
code:</strong> This includes if you need to use your own “Github fork”,
someone else’s fork, or <strong>if you want to contribute to HNN’s
development</strong>. In this case you should follow our
<strong><code>pip</code> Source Installation</strong> guide below.</li>
</ul>
<p>The terms HNN, <code>hnn-core</code>, and <code>hnn_core</code> are
effectively equivalent, as they are all different names for the same
codebase. <code>hnn-core</code> or <code>hnn_core</code> are often used
during the installation process or when you are using the API.</p>
<p>After you have installed HNN, we recommend you follow the
<strong>Testing Your Installation</strong> section below to make sure it
is installed correctly.</p>
<p><strong>If you have any questions or problems</strong> while
installing HNN, feel free to ask for help on <a
href="https://github.com/jonescompneurolab/hnn-core/discussions">our
GitHub Discussions page</a>!</p>
<div class="collapsible-section">
<h5 class="collapsible-header">
<code>conda</code> Package Installation
</h5>
<div class="collapsible-content">
<p><a id="conda-package-installation"></a></p>
<p>Note: If you want a minimal install of only the API using
<code>conda</code>, then follow the instructions below, but replace the
package name <code>hnn-core-all</code> with <code>hnn-core</code>.</p>
<h2><code>conda</code> on MacOS or Linux</h2>
<ol type="1">
<li><p>Install the <a
href="https://www.anaconda.com/download/success">Anaconda Python
Distribution</a>. If you are unfamiliar with using Anaconda/Conda
virtual environments, <a
href="https://www.anaconda.com/docs/getting-started/getting-started">you
can find resources here</a>.</p></li>
<li><p>Open a Terminal, then create and activate a new Python 3.12 Conda
environment by running the following commands:</p></li>
</ol>
<pre><code>conda create -y -q -n hnn-core-env python=3.12
conda activate hnn-core-env</code></pre>
<p>Feel free to change the environment name <code>hnn-core-env</code>.
<strong>You must use Python 3.12 for our <code>conda</code>
packages.</strong></p>
<ol start="3" type="1">
<li>Install our package using the following command:</li>
</ol>
<pre><code>conda install hnn-core-all -c jonescompneurolab -c conda-forge</code></pre>
<ol start="4" type="1">
<li>(Optional) Run the following command, and write down the number that
is output. You can use this number as the number of CPU “Cores”, which
will <em>greatly</em> speed up your simulations.</li>
</ol>
<pre><code>python -c &quot;import psutil ; print(psutil.cpu_count(logical=False)-1)&quot;</code></pre>
<ol start="5" type="1">
<li>That’s it! HNN should now be installed. Proceed to the rest of <a
href="../preface.html">our HNN Textbook</a> to get started.</li>
<li>Note: The next time you need to re-enter the Conda Environment, all
you need to do is run <code>conda activate hnn-core-env</code>.</li>
</ol>
<h2><code>conda</code> on Windows</h2>
<p>For Windows users, there are some extra steps since you need to
install HNN through “Windows Subsystem for Linux” (WSL).</p>
<ol type="1">
<li>Install WSL: Open the “PowerShell” or “Windows Command Prompt”
programs in administrator mode by right-clicking the program icon and
selecting “Run as administrator”. Then, in the window, run the following
command:</li>
</ol>
<pre><code>wsl --install</code></pre>
<p>Follow the default options for your install. For more information,
see <a href="https://learn.microsoft.com/en-us/windows/wsl/install"
class="uri">https://learn.microsoft.com/en-us/windows/wsl/install</a>.</p>
<ol start="2" type="1">
<li>Close the PowerShell or Command Prompt window.</li>
<li>You will now have a new App available from the Start Menu called
<code>Ubuntu</code>. Run that app.</li>
<li>The first time you start Ubuntu, it will prompt you to
<code>Create a default Unix user account</code> and ask for a password.
If you provide a password, write it down.</li>
<li>You should now see a prompt and a blinking cursor similar to
PowerShell/Command Prompt. Copy and paste the following commands. If you
entered a password in Step 4, enter that when it prompts you for your
password.</li>
</ol>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install build-essential</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install wget</span></code></pre></div>
<ol start="6" type="1">
<li>In the same window, copy and paste the following commands, then
follow the prompts. We strongly recommend that when you are asked
<code>Do you wish to update your shell profile to automatically initialize conda?</code>
you enter <code>yes</code>. If you do not, then you will have to
manually activate Conda whenever you open your Ubuntu app using the
command this program provides at the end.</li>
</ol>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span> Miniconda3-latest-Linux-x86_64.sh</span></code></pre></div>
<p>If you see output similar to
<code>WARNING: Your machine hardware does not appear to be x86_64</code>,
then please contact us via <a
href="https://github.com/jonescompneurolab/hnn-core/discussions">our
Github Discussions page</a>. You may be able to install by using <a
href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh"
class="uri">https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh</a>
instead.</p>
<ol start="7" type="1">
<li>Close the Ubuntu window, then open a new one. Your prompt should now
show <code>(base)</code> at the beginning.</li>
<li>Inside this window, follow all the steps above in the <a
href="#conda-macos-or-linux"><code>conda</code> MacOS or Linux</a>
section, then return here.</li>
<li>HNN should now be installed!</li>
<li>Note: On Windows, every time you start the GUI, you will need to
navigate to <a href="http://localhost:8866"
class="uri">http://localhost:8866</a> in your browser (or refresh if you
are already on the page).</li>
</ol>
</div>
</div>
<p><span style="height: 30px;" /></p>
<div class="collapsible-section">
<h5 class="collapsible-header">
<code>pip</code> Package Installation
</h5>
<div class="collapsible-content">
<p><a id="pip-package-installation"></a></p>
<p>Please follow the instructions in Steps 1, 2, and 3, in that order.
If installing through <code>pip</code>, HNN currently supports Python
3.9 through 3.13, inclusively.</p>
<p>Note that the <code>pip</code> installation methods do <em>not</em>
include all features by default, only the API. If you want to install a
specific set of features, you must include all of them in your
<code>pip</code> install command. For example, if you want HNN GUI
support and Optimization support, but not Parallel support, then you
would replace the final command in Step 3 with</p>
<pre><code>pip install &quot;hnn_core[gui,opt]&quot;</code></pre>
<h2>Step 1. <code>pip</code> Python Environment</h2>
<p>We strongly recommend that you install HNN inside a “virtual
environment” using software like the <a
href="https://www.anaconda.com/download/success">Anaconda Python
Distribution</a> or Python’s builtin <a
href="https://docs.python.org/3/library/venv.html"><code>venv</code>
module</a>. If you are new to Python or data science in Python, we
recommend you review the resources here: <a
href="https://docs.anaconda.com/getting-started/"
class="uri">https://docs.anaconda.com/getting-started/</a>.</p>
<p>If you use a virtual environment, you must first create the
environment, and then separately <em>activate</em> the environment (see
<a
href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#activating-an-environment">Conda
guidance here</a> and <a
href="https://packaging.python.org/en/latest/guides/installing-using-pip-and-virtual-environments/#create-and-use-virtual-environments"><code>venv</code>
guidance here</a>) before running any of the commands below. <strong>All
of the installation commands below assume you have already activated
your environment</strong>. You may need to re-activate your environment
every time you restart your computer or open a new terminal, depending
on how you installed your virtual environment software.</p>
<h2>Step 2. <code>pip</code> Platform-specific requirements</h2>
<h3><code>pip</code> on MacOS</h3>
<ul>
<li><p>If you already installed the <a
href="https://nrn.readthedocs.io/">NEURON</a> software system-wide using
its traditional installer package, you must <strong>remove it</strong>
first. We will be installing NEURON using its <code>pip</code>
package.</p></li>
<li><p>Before you install HNN, you must install “Xcode Command-Line
Tools”. This can be done easily by opening a Terminal, running the
following command, and then clicking through the prompts in the window
that will pop up. Note that you <strong>must restart your
computer</strong> after Xcode Command-Line Tools has finished
installing!</p>
<pre><code>xcode-select --install</code></pre></li>
</ul>
<p>If you run the above command and see output that resembles
<code>xcode-select: note: Command line tools are already installed.</code>,
then you already have it installed, do not need to restart your
computer, and can proceed to the next step. Finally, note that you do
<em>not</em> need to install Xcode in its entirety; only the above is
required.</p>
<h3><code>pip</code> on Linux</h3>
<ul>
<li>If you already installed the <a
href="https://nrn.readthedocs.io/">NEURON</a> software system-wide using
its traditional installer package, you must <strong>remove it</strong>
first. We will be installing NEURON using its <code>pip</code>
package.</li>
</ul>
<h3><code>pip</code> on Windows (native, not WSL)</h3>
<ul>
<li>Before you install HNN, it is important that you
<strong>install</strong> the <a
href="https://nrn.readthedocs.io/">NEURON</a> software system-wide using
its <a
href="https://nrn.readthedocs.io/en/latest/install/install_instructions.html#windows">Windows-specific
binaries</a>. You can test that NEURON was installed correctly by
opening a Command Prompt (or similar) via your Anaconda install (or
virtual environment), and running the following command:</li>
</ul>
<pre><code>python -c &quot;import neuron&quot;</code></pre>
<ul>
<li>Note that MPI use is <strong>not</strong> supported on native
Windows, but is supported on Windows using WSL (see below).</li>
</ul>
<h3><code>pip</code> on Windows (WSL)</h3>
<p>The following include instructions on how to install both “Windows
Subsystem for Linux” (WSL) and the <a
href="https://www.anaconda.com/download/success">Anaconda Python
Distribution</a> inside WSL.</p>
<ol type="1">
<li>Install WSL: Open the “PowerShell” or “Windows Command Prompt”
programs in administrator mode by right-clicking the program icon and
selecting “Run as administrator”. Then, in the window, run the following
command:</li>
</ol>
<pre><code>wsl --install</code></pre>
<p>Follow the default options for your install. For more information,
see <a href="https://learn.microsoft.com/en-us/windows/wsl/install"
class="uri">https://learn.microsoft.com/en-us/windows/wsl/install</a>.</p>
<ol start="2" type="1">
<li>Close the PowerShell or Command Prompt window.</li>
<li>You will now have a new App available from the Start Menu called
<code>Ubuntu</code>. Run that app.</li>
<li>The first time you start Ubuntu, it will prompt you to
<code>Create a default Unix user account</code> and ask for a password.
If you provide a password, write it down.</li>
<li>You should now see a prompt and a blinking cursor similar to
PowerShell/Command Prompt. Copy and paste the following commands. If you
entered a password in Step 4, enter that when it prompts you for your
password.</li>
</ol>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install build-essential</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install wget</span></code></pre></div>
<ol start="6" type="1">
<li>In the same window, copy and paste the following commands, then
follow the prompts. We strongly recommend that when you are asked
<code>Do you wish to update your shell profile to automatically initialize conda?</code>
you enter <code>yes</code>. If you do not, then you will have to
manually activate Conda whenever you open your Ubuntu app using the
command this program provides at the end.</li>
</ol>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span> Miniconda3-latest-Linux-x86_64.sh</span></code></pre></div>
<p>If you see output similar to
<code>WARNING: Your machine hardware does not appear to be x86_64</code>,
then please contact us via <a
href="https://github.com/jonescompneurolab/hnn-core/discussions">our
Github Discussions page</a>. You may be able to install by using <a
href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh"
class="uri">https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh</a>
instead.</p>
<ol start="7" type="1">
<li>Close the Ubuntu window, then open a new one. Your prompt should now
show <code>(base)</code> at the beginning.</li>
<li>Inside this window, follow all the steps below for your preferred
<code>pip</code> package installation type <strong>as if you are
installing for Linux</strong>, then return here.</li>
<li>HNN should now be installed!</li>
<li>Note: On Windows, if you installed the GUI, then every time you
start the GUI, you will need to navigate to <a
href="http://localhost:8866" class="uri">http://localhost:8866</a> in
your browser (or refresh if you are already on the page).</li>
</ol>
<h2>Step 3. <code>pip</code> installation types</h2>
<p>The instructions shown below are for installing each set of HNN
features <strong>separately</strong>, meaning you need to follow the
instructions for the features you want. The HNN API is the only feature
included in <strong>all install types</strong>. You can easily install
multiple sets of HNN features below by combining them like the
following:</p>
<pre><code>pip install &quot;hnn_core[gui,parallel]&quot;</code></pre>
<h3><code>pip</code> Basic (API-only) Installation</h3>
<p>To install only the HNN API, open a Terminal or Command Prompt using
a fresh virtual environment, and enter:</p>
<pre><code>pip install hnn_core</code></pre>
<p>This will install only the HNN API along with its required
dependencies, which include: <a href="https://numpy.org/">NumPy</a>, <a
href="https://scipy.org/">SciPy</a>, <a
href="https://matplotlib.org/">Matplotlib</a>, <a
href="https://nrn.readthedocs.io/">NEURON</a> (&gt;=7.7), and <a
href="https://github.com/h5io/h5io">h5io</a>.</p>
<p>For guidance on using the API, see our “Using the HNN API” notebooks
in the sidebar such as <a
href="../08_using_hnn_api/plot_firing_pattern.html">here</a>, or
in-depth examples like our <a href="../05_erps/hnn_core.html">API
tutorial of ERPs</a>.</p>
<h3><code>pip</code> Graphical User Interface (GUI) Installation</h3>
<p>To install HNN with both its API and GUI support, run the following
command (make sure to include the “quotes”):</p>
<pre><code>pip install &quot;hnn_core[gui]&quot;</code></pre>
<p>This automatically installs the following dependencies: <a
href="https://ipykernel.readthedocs.io/en/stable/">ipykernel</a>, <a
href="https://matplotlib.org/ipympl/">ipympl</a>, <a
href="https://github.com/jupyter-widgets/ipywidgets">ipywidgets</a>
&gt;=8.0.0, and <a
href="https://github.com/voila-dashboards/voila">voila</a>.</p>
<p>For guidance on using the GUI, see <a
href="../04_using_hnn_gui/gui_quickstart.html">our quickstart guide
here</a>, or in-depth examples like our <a
href="../05_erps/erps_in_gui.html">GUI tutorial of ERPs</a>.</p>
<h3><code>pip</code> Optimization Installation</h3>
<p>To install HNN with both its API and Optimization support, run the
following command (make sure to include the “quotes”):</p>
<pre><code>pip install &quot;hnn_core[opt]&quot;</code></pre>
<p>This automatically installs the following dependencies: <a
href="https://scikit-learn.org/stable/index.html"><code>scikit-learn</code></a>.</p>
<p>If you are using Optimization, it is recommended to also install
Joblib support (see below).</p>
<p>For guidance on using Optimization, see our “Using the HNN API”
notebooks in the sidebar such as <a
href="../08_using_hnn_api/optimize_simulated_evoked_response_parameters.html">here</a>
and <a
href="../08_using_hnn_api/optimize_simulated_rhythmic_response_parameters.html">here</a>.</p>
<h3><code>pip</code> Joblib Installation</h3>
<p>To install HNN with both its API and Joblib support, run the
following command (make sure to include the “quotes”):</p>
<pre><code>pip install &quot;hnn_core[parallel]&quot;</code></pre>
<p>This automatically installs the following dependencies: <a
href="https://joblib.readthedocs.io/en/stable/">Joblib</a> and <a
href="https://github.com/giampaolo/psutil">psutil</a>.</p>
<p>Many of the examples in our Textbook make use of Joblib support, and
we provide an explicit <a
href="../08_using_hnn_api/parallelism_joblib.html">tutorial for it
here</a>.</p>
<h3><code>pip</code> MPI Installation</h3>
<p>MPI installation is the most difficult installation type. If you want
to use <a href="https://www.open-mpi.org/">MPI</a>, we recommend you
first try to install our <code>conda</code> package detailed above.
Otherwise, we <strong>strongly</strong> recommend you use a virtual
environment created using the <a
href="https://www.anaconda.com/download/success">Anaconda Python
Distribution</a> specifically, since Anaconda is the easiest way to
download <a href="https://anaconda.org/conda-forge/openmpi">OpenMPI
binaries</a>, which are <em>not</em> Python code.</p>
<p>To install HNN with its MPI dependencies using the <code>pip</code>
method, follow the below instructions for your operating system.</p>
<h4><code>pip</code> MPI: Windows (native)</h4>
<p>Unfortunately, we do not officially support MPI usage on native
Windows due to the complexity required. However, we do support MPI
through “Windows Subsystem for Linux” (WSL); see below.</p>
<h4><code>pip</code> MPI: MacOS, Linux, or Windows (WSL)</h4>
<ol type="1">
<li><p>Install the <a
href="https://www.anaconda.com/download/success">Anaconda Python
Distribution</a>. (If you have followed instructions in Step 2 for
Windows WSL above, you can skip this.)</p></li>
<li><p>Create and activate a new <code>conda</code> environment using
commands like the following:</p></li>
</ol>
<pre><code>conda create -y -q -n hnn-core-env python=3.12
conda activate hnn-core-env</code></pre>
<p>You can change the environment name <code>hnn-core-env</code> to
whatever you wish. Compatible Python versions currently include 3.9 to
3.13, inclusively.</p>
<ol start="3" type="1">
<li>(MacOS only) Copy, paste, and run the following commands to set some
environment variables for your <code>conda</code> environment:</li>
</ol>
<pre><code>mkdir -p $CONDA_PREFIX/etc/conda/activate.d $CONDA_PREFIX/etc/conda/deactivate.d
echo &quot;export OLD_DYLD_FALLBACK_LIBRARY_PATH=\$DYLD_FALLBACK_LIBRARY_PATH&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/activate.d/env_vars.sh
echo &quot;export DYLD_FALLBACK_LIBRARY_PATH=\$DYLD_FALLBACK_LIBRARY_PATH:\${CONDA_PREFIX}/lib&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/activate.d/env_vars.sh
echo &quot;export DYLD_FALLBACK_LIBRARY_PATH=\$OLD_DYLD_FALLBACK_LIBRARY_PATH&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/deactivate.d/env_vars.sh
echo &quot;unset OLD_DYLD_FALLBACK_LIBRARY_PATH&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/deactivate.d/env_vars.sh
export OLD_DYLD_FALLBACK_LIBRARY_PATH=$DYLD_FALLBACK_LIBRARY_PATH
export DYLD_FALLBACK_LIBRARY_PATH=$DYLD_FALLBACK_LIBRARY_PATH:${CONDA_PREFIX}/lib</code></pre>
<ol start="4" type="1">
<li>(Linux or Windows (WSL) only) Copy, paste, and run the following
commands to set some environment variables for your <code>conda</code>
environment:</li>
</ol>
<pre><code>mkdir -p $CONDA_PREFIX/etc/conda/activate.d $CONDA_PREFIX/etc/conda/deactivate.d
echo &quot;export OLD_LD_LIBRARY_PATH=\$LD_LIBRARY_PATH&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/activate.d/env_vars.sh
echo &quot;export LD_LIBRARY_PATH=\$LD_LIBRARY_PATH:\${CONDA_PREFIX}/lib&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/activate.d/env_vars.sh
echo &quot;export LD_LIBRARY_PATH=\$OLD_LD_LIBRARY_PATH&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/deactivate.d/env_vars.sh
echo &quot;unset OLD_LD_LIBRARY_PATH&quot; &gt;&gt; $CONDA_PREFIX/etc/conda/deactivate.d/env_vars.sh
export OLD_LD_LIBRARY_PATH=$LD_LIBRARY_PATH
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${CONDA_PREFIX}/lib</code></pre>
<ol start="5" type="1">
<li>Run the following command to install your MPI dependencies:</li>
</ol>
<pre><code>conda install -y -q &quot;openmpi&gt;5&quot; mpi4py -c conda-forge</code></pre>
<ol start="6" type="1">
<li>Finally, install the <code>pip</code> package of
<code>hnn_core</code> using the following command (make sure to include
the “quotes”):</li>
</ol>
<pre><code>pip install &quot;hnn_core[parallel]&quot;</code></pre>
<ol start="7" type="1">
<li>Let’s test that the install worked. Run the following command:</li>
</ol>
<pre><code>python -c &quot;
from hnn_core import jones_2009_model, MPIBackend, simulate_dipole
with MPIBackend():
    simulate_dipole(jones_2009_model(), tstop=20)
&quot;</code></pre>
<p>You should see output the looks somewhat similar to the following;
this verifies that MPI, NEURON, and Python are all working together.</p>
<pre><code>/opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/dipole.py:85: UserWarning: No external drives or biases loaded
  warnings.warn(&quot;No external drives or biases loaded&quot;, UserWarning)
MPI will run 1 trial(s) sequentially by distributing network neurons over 11 processes.
numprocs=11
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Building the NEURON model
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
Loading custom mechanism files from /opt/anaconda3/envs/hnn-core-env/lib/python3.12/site-packages/hnn_core/mod/arm64/.libs/libnrnmech.so
[Done]
Trial 1: 0.03 ms...
Trial 1: 10.0 ms...</code></pre>
<ol start="8" type="1">
<li>For guidance on using MPI, see our “Using the HNN API” notebook in
the sidebar <a
href="../08_using_hnn_api/parallelism_mpi.html">here</a></li>
</ol>
</div>
</div>
<p><span style="height: 30px;" /></p>
<div class="collapsible-section">
<h5 class="collapsible-header">
<code>pip</code> Source Installation
</h5>
<div class="collapsible-content">
<p><a id="pip-source-installation"></a></p>
<p>To begin installing HNN via source code, you first need to follow
<strong>all</strong> of the instructions above in
<strong><code>pip</code> Package Installation</strong> for your desired
platform and features <strong>except</strong> for the final
<code>pip install "hnn_core[&lt;features&gt;]"</code> command. If you
want to contribute to HNN development, then it is strongly recommended
you also follow the MPI installation instructions in the previous
<strong><code>pip</code> Package Installation</strong> section.</p>
<h3>Installing custom versions with no changes:</h3>
<p>If you only want to install a custom version of HNN from Github, but
<strong>you do NOT need to edit the code yourself</strong>, then someone
else has probably given you a specific URL to use. You can install the
features you need with the URL you have been given using the
following:</p>
<pre><code>pip install &quot;hnn_core[gui] @ git+https://github.com/asoplata/hnn-core&quot;</code></pre>
<p>where you would replace <code>[gui]</code> with the features you
want, and <code>https://github.com/asoplata/hnn-core</code> with the URL
of the Github code or fork you want to use.</p>
<h3>Installing custom versions, but supporting changes:</h3>
<p>If instead you want to install a custom version of HNN from Github,
but you <strong>DO want to edit the code yourself</strong>, you should
do the following. <strong>This is what you should do if you want to
contribute to development</strong>.</p>
<ol type="1">
<li><p><a
href="https://docs.github.com/en/get-started/git-basics/set-up-git">Setup
<code>git</code> using the instructions here</a>. Note that you need to
make sure that both 1. <code>git</code> is installed <a
href="https://docs.github.com/en/get-started/git-basics/set-up-git#setting-up-git">using
these steps</a> <strong>and</strong> 2. that your <code>git</code>
program has authenticated to Github <a
href="https://docs.github.com/en/get-started/git-basics/set-up-git#authenticating-with-github-from-git">using
these steps</a>.</p></li>
<li><p>You should do a <code>git clone &lt;fork URL&gt;</code> of the
fork you are interested in, which will download the source code to a new
directory. If you want to contribute to development, you should use your
own personal fork. (You can create your own fork by going to our <a
href="https://github.com/jonescompneurolab/hnn-core">code repository
here</a> and clicking the “Fork” button in the top right.) As an
example, if you wanted to download <code>asoplata</code>’s fork, you
could do either:</p></li>
</ol>
<pre><code>git clone https://github.com/asoplata/hnn-core.git</code></pre>
<p>or</p>
<pre><code>git clone git@github.com:asoplata/hnn-core</code></pre>
<p>depending on whether you authenticated using HTTPS or SSH.</p>
<ol start="3" type="1">
<li><p>Enter the directory that you just downloaded, using the command
<code>cd hnn-core</code>.</p></li>
<li><p>Install an “editable” version of the local source code with the
features you want to use. If, for example, you do not want to contribute
to development, but you want to install the GUI and Optimization
features, you can use the following command:</p></li>
</ol>
<pre><code>pip install --editable &quot;.[gui,opt]&quot;</code></pre>
<p>If you <strong>want to contribute to development</strong>, then you
should instead use the following command, which installs all features
including <strong>special</strong> features used in development:</p>
<pre><code>pip install --editable &quot;.[dev]&quot;</code></pre>
<p>If you want to contribute to development, then once you have
installed HNN this way, please see our <a
href="https://jonescompneurolab.github.io/hnn-core/stable/contributing.html">Contributing
Guide here</a>.</p>
</div>
</div>
<p><span style="height: 30px;" /></p>
<div class="collapsible-section">
<h5 class="collapsible-header">
Testing Your Installation
</h5>
<div class="collapsible-content">
<p><a id="testing-your-installation"></a></p>
<p>To check whether HNN was installed correctly, you can run the
following command:</p>
<pre><code>python -c &quot;from hnn_core import jones_2009_model, simulate_dipole ; simulate_dipole(jones_2009_model(), tstop=20)&quot;</code></pre>
<p>This will run a very short test simulation, and should not give any
Error messages (Warning messages are okay).</p>
<p>If you installed MPI, it is <strong>strongly recommended</strong> to
test your install. You can test that HNN, NEURON, and MPI were all
installed correctly and can talk to each other by running the following
command:</p>
<pre><code>python -c &quot;
from hnn_core import jones_2009_model, MPIBackend, simulate_dipole
with MPIBackend():
    simulate_dipole(jones_2009_model(), tstop=20)
&quot;</code></pre>
<p>If either of the above commands run into Errors (Warnings are okay),
then feel free to ask for help on <a
href="https://github.com/jonescompneurolab/hnn-core/discussions">our
GitHub Discussions page</a>.</p>
</div>
</div>
        <!-- footer area -->
        <!----------------->
        <div class="footer-area">
            <div class="previous-area" data-link="">
                <div class="previous-icon">
                    <svg class="svg-arrow" width="25" height="25" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path class="arrow-path" d="M15 5L9 12L15 19" />
                    </svg>
                </div>
                <div class="previous-text">
                    <p>Previous</p>
                    <a></a>
                </div>
            </div>
            <div class="next-area" data-link="">
                <div class="next-text">
                    <p>Next</p>
                    <a></a>
                </div>
                <div class="next-icon">
                    <svg class="svg-arrow" width="25" height="25" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path class="arrow-path" d="M15 5L9 12L15 19" />
                    </svg>
                </div>
            </div>
        </div> <!-- close footer -->
    </div> <!-- close content -->
    </div> <!-- close content wrapper -->
</div> <!-- close main --><!------------------------ #
# Code syntax highlighting #
# ------------------------->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />


</body>
</html>